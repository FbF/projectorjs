<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Projectorjs by FbF</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Projectorjs</h1>
        <p>A small no-dependencies JavaScript library that enables the display of overlays on native HTML5 video elements, or (optionally) video elements powered by videojs. </p>

        <p class="view"><a href="https://github.com/FbF/projectorjs">View the Project on GitHub <small>FbF/projectorjs</small></a></p>


        <ul>
          <li><a href="https://github.com/FbF/projectorjs/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/FbF/projectorjs/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/FbF/projectorjs">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="projectorjs" class="anchor" href="#projectorjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Projector.js</h1>

<p>A small no-dependencies JavaScript library that enables the display of overlays on native HTML5 video elements, or (optionally) video elements powered by <a href="https://github.com/videojs/video.js/">videojs</a>. Overlays can be triggered via time ranges or events. A set of useful overlays is (WIP) included to cover common use cases.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>
<a id="raw-browser" class="anchor" href="#raw-browser" aria-hidden="true"><span class="octicon octicon-link"></span></a>Raw browser</h3>

<p>You need to include both the javascript and css files from the project. Both of these are located in the dist directory.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">head</span>&gt;
<span class="pl-s2">    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>projector.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span>
    &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s1"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/css<span class="pl-pds">"</span></span> <span class="pl-e">href</span>=<span class="pl-s1"><span class="pl-pds">"</span>../dist/css/projector-js.min.css<span class="pl-pds">"</span></span>&gt;
&lt;/<span class="pl-ent">head</span>&gt;
&lt;<span class="pl-ent">body</span>&gt;
    &lt;<span class="pl-ent">video</span> <span class="pl-e">id</span>=<span class="pl-s1"><span class="pl-pds">"</span>video<span class="pl-pds">"</span></span> <span class="pl-e">controls</span>&gt;
        &lt;<span class="pl-ent">source</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>video.webm<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>video/webm<span class="pl-pds">"</span></span>&gt;
    &lt;/<span class="pl-ent">video</span>&gt;
<span class="pl-s2">    &lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s2">    <span class="pl-s">var</span> v <span class="pl-k">=</span> Projector.init(<span class="pl-s1"><span class="pl-pds">'</span>video<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">    v.addOverlay(</span>
<span class="pl-s2">        Projector.TextBox({text<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>}),</span>
<span class="pl-s2">        {</span>
<span class="pl-s2">            top<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>50%<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2">            left<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>50%<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2">            timings<span class="pl-k">:</span> [</span>
<span class="pl-s2">                {</span>
<span class="pl-s2">                    timing<span class="pl-k">:</span><span class="pl-s1"><span class="pl-pds">'</span>0-10,15-20<span class="pl-pds">'</span></span></span>
<span class="pl-s2">                }</span>
<span class="pl-s2">            ]</span>
<span class="pl-s2">        }</span>
<span class="pl-s2">    )</span>
<span class="pl-s2">    &lt;/<span class="pl-ent">script</span>&gt;</span>
&lt;/<span class="pl-ent">body</span>&gt;</pre></div>

<p>Or you can use projector.js with videojs:</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">head</span>&gt;
<span class="pl-s2">    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>video.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span>
    &lt;<span class="pl-ent">link</span> <span class="pl-e">href</span>=<span class="pl-s1"><span class="pl-pds">"</span>video-js.css<span class="pl-pds">"</span></span> <span class="pl-e">rel</span>=<span class="pl-s1"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span>&gt;
<span class="pl-s2">    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>projector.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</span>
    &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s1"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>text/css<span class="pl-pds">"</span></span> <span class="pl-e">href</span>=<span class="pl-s1"><span class="pl-pds">"</span>../dist/css/projector-js.min.css<span class="pl-pds">"</span></span>&gt;
&lt;/<span class="pl-ent">head</span>&gt;
&lt;<span class="pl-ent">body</span>&gt;
    &lt;<span class="pl-ent">video</span> <span class="pl-e">id</span>=<span class="pl-s1"><span class="pl-pds">"</span>videojs-test<span class="pl-pds">"</span></span> <span class="pl-e">controls</span>&gt;
        &lt;<span class="pl-ent">source</span> <span class="pl-e">src</span>=<span class="pl-s1"><span class="pl-pds">"</span>video.webm<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s1"><span class="pl-pds">"</span>video/webm<span class="pl-pds">"</span></span>&gt;
    &lt;/<span class="pl-ent">video</span>&gt;
<span class="pl-s2">    &lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s2">    <span class="pl-s">var</span> v <span class="pl-k">=</span> videojs(<span class="pl-s1"><span class="pl-pds">"</span>videojs-test<span class="pl-pds">"</span></span>).projector();</span>
<span class="pl-s2">    v.addOverlay(</span>
<span class="pl-s2">        Projector.TextBox({text<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>}),</span>
<span class="pl-s2">        {</span>
<span class="pl-s2">            top<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>50%<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2">            left<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>50%<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2">            timings<span class="pl-k">:</span> [</span>
<span class="pl-s2">                {</span>
<span class="pl-s2">                    start<span class="pl-k">:</span> <span class="pl-c1">5</span>,</span>
<span class="pl-s2">                    end<span class="pl-k">:</span> <span class="pl-c1">10</span></span>
<span class="pl-s2">                },</span>
<span class="pl-s2">                {</span>
<span class="pl-s2">                    start<span class="pl-k">:</span> <span class="pl-c1">15</span>,</span>
<span class="pl-s2">                    end<span class="pl-k">:</span> <span class="pl-c1">20</span></span>
<span class="pl-s2">                }</span>
<span class="pl-s2">            ]</span>
<span class="pl-s2">        }</span>
<span class="pl-s2">    );</span>
<span class="pl-s2">    &lt;/<span class="pl-ent">script</span>&gt;</span>
&lt;/<span class="pl-ent">body</span>&gt;

</pre></div>

<h3>
<a id="other-require-libs" class="anchor" href="#other-require-libs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other require libs</h3>

<p>Projector.js uses the <a href="https://github.com/umdjs/umd">UMD</a> pattern and so should work with both <a href="https://github.com/jrburke/requirejs">require.js</a> and <a href="https://github.com/substack/node-browserify">browserify</a>.</p>

<h2>
<a id="considerations" class="anchor" href="#considerations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Considerations</h2>

<h3>
<a id="overlays-block-clicks" class="anchor" href="#overlays-block-clicks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overlays block clicks</h3>

<p>A common issue with video overlays is that one overlay blocks events from hitting other overlays that are underneath. E.g, you have 2 overlays that both provide user input, but because one is on top, the other is not accessible.</p>

<p>Projector.js attempts to counter this by assigning the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events"><code>pointer-events: none;</code></a> CSS property to overlay wrappers (<code>.projector-overlay</code>). This allows child elements to be clickable, but the containing overlay div (which covers the whole video) allows events to "pass-through." However, this is a new property and support is limited on older browsers. It is of note that it is unsupported on &lt; IE11.</p>

<p>A good way to avoid this issue is to keep all individual elements on a separate overlay. I.e. avoid having 2 separate divs in a single overlay. This would cause the overlay container to stretch to fit both, introducing transparent white space which would block clicks if on a browser that does not support pointer-events.</p>

<h3>
<a id="scaling-up-videos" class="anchor" href="#scaling-up-videos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scaling up videos</h3>

<p>It is important to use percentage values for dimensions/margins/paddings if you want your overlay to scale up if the video size changes (I.e. full screen).</p>

<p>Projector.js sets the font-size of the overlay wrappers to 1% of the width of the video. This should allow you to use em or percentage values for font-size. You could also use <a href="http://caniuse.com/#feat=viewport-units">viewport units</a> if you don't care about older browsers.</p>

<h3>
<a id="sub-second-accuracy" class="anchor" href="#sub-second-accuracy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sub-second accuracy</h3>

<p>Different browsers report the time elapsed at different intervals. This unfortunately limits the use of milliseconds. Projector.js does not currently support milliseconds, but is being considered for inclusion in the library via setTimeout() hacks. Regardless, <strong>exact</strong> precision is not easily achievable and is out of scope.</p>

<h3>
<a id="dirty-triggers" class="anchor" href="#dirty-triggers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dirty triggers</h3>

<p>Projector.js ensures your overlay is active between the user-specified times. Consequentially, as the users elapsed video time breaches a user specified time period, the relevant overlay is triggered to be active.</p>

<p>However, the user may have seeked directly into this time period, and not naturally watched the video in real time. For this reason, callbacks such as <code>beforeBeginOverlay</code> are passed a "dirty" flag when the user has seeked into one of the specified time ranges. This allows the developer to disable certain affects when the player is used in this way, e.g. fade in animations.</p>

<h2>
<a id="core-api" class="anchor" href="#core-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Core API</h2>

<h3>
<a id="projector-object" class="anchor" href="#projector-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Projector object</h3>

<p>The projector object provides the intialization function to allow projectorjs to attach to your video element.</p>

<h4>
<a id="initelement-options" class="anchor" href="#initelement-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>init(element, [options])</h4>

<p>Type: <code>function</code><br>
Arguments: <code>element&lt;string|HTMLElement&gt;</code>, <code>options&lt;object&gt;</code><br>
Returns: <code>pInstance</code></p>

<h5>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>options</h5>

<p>Instead of using the <code>addOverlay</code> function of a <code>pInstance</code>, you can use the shorthand method to specify all of your overlays in the initial options object. Please see the  <a href="#addOverlay"><code>addOverlay</code></a>  documentation for full description of options.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> p <span class="pl-k">=</span> Projector.init(<span class="pl-s3">document</span>.<span class="pl-s3">getElementById</span>(<span class="pl-s1"><span class="pl-pds">'</span>video<span class="pl-pds">'</span></span>), {
    overlays<span class="pl-k">:</span> [
        {
            overlay<span class="pl-k">:</span> Projector.TextBox({text<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Test<span class="pl-pds">"</span></span>}),
            left<span class="pl-k">:</span><span class="pl-s1"><span class="pl-pds">'</span>40%<span class="pl-pds">'</span></span>,
            top<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>50%<span class="pl-pds">'</span></span>,
            timings<span class="pl-k">:</span> [
                {
                    timing<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>8-14<span class="pl-pds">'</span></span>
                }
            ]
        }
    ]
});

<span class="pl-c">// Add more overlays programmatically</span>
p.addOverlay(...)</pre></div>

<p>Init can also be called via video.js intialization.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> p <span class="pl-k">=</span> videojs(<span class="pl-s1"><span class="pl-pds">"</span>video<span class="pl-pds">"</span></span>).projector({
    <span class="pl-c">// Options</span>
    ...
});

<span class="pl-c">// Add more overlays programmatically</span>
p.addOverlay(...)</pre></div>

<h3>
<a id="pinstance-object" class="anchor" href="#pinstance-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>pInstance object</h3>

<p>The pInstance (projector instance) object is attached to a single HTML or videojs video element. It exposes functions to attach overlays.</p>

<h4>
<a id="addoverlay" class="anchor" href="#addoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>addOverlay</h4>

<p>Type: <code>function</code><br>
Arguments: <code>overlay&lt;Overlay&gt;</code>, <code>options&lt;object&gt;</code><br>
Returns: <code>pInstance</code></p>

<p>Attach an overlay object (see <a href="#bundled-overlays">Bundled overlays</a>) with the given options.</p>

<h5>
<a id="options-1" class="anchor" href="#options-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h5>

<h6>
<a id="left" class="anchor" href="#left" aria-hidden="true"><span class="octicon octicon-link"></span></a>left</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code> (effectively auto)</p>

<p>The position of the overlay relative to the left boundary. Include units.</p>

<h6>
<a id="right" class="anchor" href="#right" aria-hidden="true"><span class="octicon octicon-link"></span></a>right</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code> (effectively auto)</p>

<p>The position of the overlay relative to the right boundary. Include units.</p>

<h6>
<a id="top" class="anchor" href="#top" aria-hidden="true"><span class="octicon octicon-link"></span></a>top</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code> (effectively auto)</p>

<p>The position of the overlay relative to the top boundary. Include units.</p>

<h6>
<a id="bottom" class="anchor" href="#bottom" aria-hidden="true"><span class="octicon octicon-link"></span></a>bottom</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code> (effectively auto)</p>

<p>The position of the overlay relative to the bottom boundary. Include units.</p>

<h6>
<a id="height" class="anchor" href="#height" aria-hidden="true"><span class="octicon octicon-link"></span></a>height</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code> (effectively auto)</p>

<p>The width of the overlay. Include units.</p>

<h6>
<a id="width" class="anchor" href="#width" aria-hidden="true"><span class="octicon octicon-link"></span></a>width</h6>

<p>Type: <code>string</code><br>
Default: <code>undefined</code></p>

<p>The height of the overlay. Include units.</p>

<h6>
<a id="timings" class="anchor" href="#timings" aria-hidden="true"><span class="octicon octicon-link"></span></a>timings</h6>

<p>Type: <code>array&lt;timings&gt;</code><br>
Default: <code>[]</code></p>

<p>An array of timing singleton objects. See <a href="#timing-object">Timing object</a>.</p>

<h3>
<a id="timing-object" class="anchor" href="#timing-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Timing object</h3>

<p>A user-provided singleton object passed as part of the options for <code>Projector.init</code> or <code>pInstance.addOverlay</code>.</p>

<h4>
<a id="timing" class="anchor" href="#timing" aria-hidden="true"><span class="octicon octicon-link"></span></a>timing</h4>

<p>Type: <code>string</code><br>
Default: <code>undefined</code><br>
Example: <code>"3-6,6-10,20"</code></p>

<p>A shorthand string representing time periods for the start and end of overlays. This string is a comma separated list of</p>

<ul>
<li>min/max integer ranges (seconds) delimited by hyphens.</li>
<li>or singular integers (seconds).</li>
</ul>

<p>If a single integer 'x' is specified, this is processed as a timing that starts at 'x' seconds, with no end.</p>

<p>Overrides start and end values if set.</p>

<h4>
<a id="start" class="anchor" href="#start" aria-hidden="true"><span class="octicon octicon-link"></span></a>start</h4>

<p>Type: <code>integer|string</code><br>
Default: <code>undefined</code></p>

<p>The number of seconds elapsed upon which the overlay starts. Alternatively, an event name such as play or pause. Any event fired on the video element (native or videojs) works.</p>

<h4>
<a id="end" class="anchor" href="#end" aria-hidden="true"><span class="octicon octicon-link"></span></a>end</h4>

<p>Type: <code>integer|string</code><br>
Default: <code>undefined</code></p>

<p>The number of seconds elapsed upon which the overlay ends. Alternatively, an event name such as play or pause. Any event fired on the video element (native or videojs) works.</p>

<h4>
<a id="beforebeginoverlay" class="anchor" href="#beforebeginoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>beforeBeginOverlay</h4>

<p>Type: <code>function</code><br>
Default: <code>undefined</code><br>
Arguments: <code>overlay&lt;Overlay&gt;</code>, <code>currentTime&lt;integer&gt;</code>, <code>dirtyTrigger&lt;boolean&gt;</code></p>

<p>A callback called before the overlay begins. This function is passed the overlay object, the current time elapsed and a "dirty trigger flag" (see <a href="#dirty-triggers">Dirty triggers</a>).</p>

<h4>
<a id="afterbeginoverlay" class="anchor" href="#afterbeginoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>afterBeginOverlay</h4>

<p>Type: <code>function</code><br>
Default: <code>undefined</code><br>
Arguments: <code>overlay&lt;Overlay&gt;</code>, <code>currentTime&lt;integer&gt;</code>, <code>dirtyTrigger&lt;boolean&gt;</code></p>

<p>A callback called after the overlay begins. This function is passed the overlay object, the current time elapsed and a "dirty trigger flag" (see <a href="#dirty-triggers">Dirty triggers</a>).</p>

<h4>
<a id="beforeendoverlay" class="anchor" href="#beforeendoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>beforeEndOverlay</h4>

<p>Type: <code>function</code><br>
Default: <code>undefined</code><br>
Arguments: <code>overlay&lt;Overlay&gt;</code>, <code>currentTime&lt;integer&gt;</code>, <code>dirtyTrigger&lt;boolean&gt;</code></p>

<p>A callback called before the overlay ends. This function is passed the overlay object, the current time elapsed and a "dirty trigger flag" (see <a href="#dirty-triggers">Dirty triggers</a>).</p>

<h4>
<a id="afterendoverlay" class="anchor" href="#afterendoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>afterEndOverlay</h4>

<p>Type: <code>function</code><br>
Default: <code>undefined</code><br>
Arguments: <code>overlay&lt;Overlay&gt;</code>, <code>currentTime&lt;integer&gt;</code>, <code>dirtyTrigger&lt;boolean&gt;</code></p>

<p>A callback called after the overlay ends. This function is passed the overlay object, the current time elapsed and a "dirty trigger flag" (see <a href="#dirty-triggers">Dirty triggers</a>).</p>

<h3>
<a id="overlay-object" class="anchor" href="#overlay-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overlay object</h3>

<p>The overlay object represents the overlay itself. <a href="#bundled-overlays">Built in overlays</a> and custom overlays extend this object.</p>

<h4>
<a id="init" class="anchor" href="#init" aria-hidden="true"><span class="octicon octicon-link"></span></a>init</h4>

<p>Type: <code>function</code>
Arguments: <code>options&lt;Object&gt;</code><br>
Returns: <code>boolean</code></p>

<p>Sets up the overlay. No need to call manually as is invoked upon overlay creation.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// Creates overlay, calls init, and returns overlay object</span>
<span class="pl-s">var</span> o <span class="pl-k">=</span> Projector.TextBox();</pre></div>

<h5>
<a id="options-2" class="anchor" href="#options-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h5>

<h6>
<a id="attrs" class="anchor" href="#attrs" aria-hidden="true"><span class="octicon octicon-link"></span></a>attrs</h6>

<p>Type: <code>object</code></p>

<p>A set of attributes that you wish to be copied over to the styles of the overlay.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// Creates overlay, calls init, and returns overlay object</span>
<span class="pl-s">var</span> o <span class="pl-k">=</span> Projector.TextBox({
    attrs<span class="pl-k">:</span> {
        class<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>custom-class<span class="pl-pds">'</span></span>,
        id<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>custom-id<span class="pl-pds">'</span></span>
    }
});</pre></div>

<h4>
<a id="render" class="anchor" href="#render" aria-hidden="true"><span class="octicon octicon-link"></span></a>render</h4>

<p>Type: <code>function</code><br>
Return: <code>HTMLElement</code></p>

<p>Builds and returns the DOM element representing the overlay. Override in custom overlays.</p>

<h4>
<a id="beginoverlay" class="anchor" href="#beginoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>beginOverlay</h4>

<p>Type: <code>function</code><br>
Arguments: <code>cb&lt;function&gt;</code>, <code>curTime&lt;integer&gt;</code>, <code>dirty&lt;boolean&gt;</code></p>

<p>Main function to trigger the overlay "on". Default is to unhide DOM element. Override in custom overlays. Execute the callback when done.</p>

<h4>
<a id="endoverlay" class="anchor" href="#endoverlay" aria-hidden="true"><span class="octicon octicon-link"></span></a>endOverlay</h4>

<p>Type: <code>function</code><br>
Arguments: <code>cb&lt;function&gt;</code>, <code>curTime&lt;integer&gt;</code>, <code>dirty&lt;boolean&gt;</code></p>

<p>Main function to trigger the overlay "off". Default is to hide DOM element. Override in custom overlays. Execute the callback when done.</p>

<h4>
<a id="update" class="anchor" href="#update" aria-hidden="true"><span class="octicon octicon-link"></span></a>update</h4>

<p>Type: <code>function</code>
Arguments: <code>curTime&lt;integer&gt;</code>, <code>dirty&lt;boolean&gt;</code></p>

<p>Given an elapsed time in seconds and the dirty flag (see <a href="#dirty-triggers">Dirty triggers</a>), check if the overlay should show (according to passed elapsed time). Can override in custom overlays if you wish to trigger your overlay on more complicated logic than time ranges. This function is called each time the "timeupdate" event is triggered on the video.</p>

<h4>
<a id="isactive" class="anchor" href="#isactive" aria-hidden="true"><span class="octicon octicon-link"></span></a>isActive</h4>

<p>Type: <code>function</code><br>
Returns: <code>boolean</code></p>

<p>Returns true if the overlay is in an active state.</p>

<h4>
<a id="element" class="anchor" href="#element" aria-hidden="true"><span class="octicon octicon-link"></span></a>element</h4>

<p>Type: <code>HTMLElement</code></p>

<p>The HTMLElement representing the overlay.</p>

<h4>
<a id="class" class="anchor" href="#class" aria-hidden="true"><span class="octicon octicon-link"></span></a>class</h4>

<p>Type: <code>string</code></p>

<p>The default class of an overlay. Override in custom overlays.</p>

<h2>
<a id="bundled-overlays" class="anchor" href="#bundled-overlays" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bundled overlays</h2>

<p>Projector.js comes with some bundled overlays to cover the most common use cases (WIP).</p>

<h3>
<a id="projectortextboxoptions" class="anchor" href="#projectortextboxoptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Projector.TextBox(options)</h3>

<h4>
<a id="options-3" class="anchor" href="#options-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h4>

<h5>
<a id="text" class="anchor" href="#text" aria-hidden="true"><span class="octicon octicon-link"></span></a>text</h5>

<p>Type: <code>string</code></p>

<p>The text to display in the text box.</p>

<h3>
<a id="projectorhtmlboxoptions" class="anchor" href="#projectorhtmlboxoptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Projector.HTMLBox(options)</h3>

<h4>
<a id="options-4" class="anchor" href="#options-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h4>

<h5>
<a id="html" class="anchor" href="#html" aria-hidden="true"><span class="octicon octicon-link"></span></a>html</h5>

<p>Type: <code>string|HTMLElement</code></p>

<p>The text to display in the text box.</p>

<h2>
<a id="building-overlays" class="anchor" href="#building-overlays" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building overlays</h2>

<p>Extend the <code>Projector.Overlay</code> object. Always call the super function within each method unless you know what you are doing. This example creates a text box overlay that fades in:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> TextBox <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
    <span class="pl-s">var</span> <span class="pl-en">exports</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">options</span>) {
        <span class="pl-s">var</span> ret <span class="pl-k">=</span> <span class="pl-s3">Object</span>.create(<span class="pl-sv">exports</span>.<span class="pl-sc">prototype</span>);
        ret.init(options);
        <span class="pl-k">return</span> ret;
    };

    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span> <span class="pl-k">=</span> <span class="pl-s3">Object</span>.create(Overlay.<span class="pl-sc">prototype</span>);
    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">class</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>projector-textbox-fade<span class="pl-pds">'</span></span>;
    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">init</span> <span class="pl-k">=</span> <span class="pl-st">function</span>() {
        Overlay.<span class="pl-sc">prototype</span>.init.<span class="pl-s3">apply</span>(<span class="pl-v">this</span>, arguments);
    };

    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">beginOverlay</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">cb</span>) {
        Overlay.<span class="pl-sc">prototype</span>.beginOverlay.<span class="pl-s3">apply</span>(<span class="pl-v">this</span>, arguments);
        $(<span class="pl-v">this</span>.element).fadeIn();
    };

    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">endOverlay</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">cb</span>) {
        Overlay.<span class="pl-sc">prototype</span>.endOverlay.<span class="pl-s3">apply</span>(<span class="pl-v">this</span>, arguments);
        $(<span class="pl-v">this</span>.element).fadeOut();
    };

    <span class="pl-s3">exports</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">render</span> <span class="pl-k">=</span> <span class="pl-st">function</span>() {
        <span class="pl-s">var</span> div <span class="pl-k">=</span> Overlay.<span class="pl-sc">prototype</span>.render.<span class="pl-s3">call</span>(<span class="pl-v">this</span>);
        div.innerHTML <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-sc">options</span>.<span class="pl-sc">text</span>;
        <span class="pl-k">return</span> div;
    };

    <span class="pl-k">return</span> <span class="pl-sv">exports</span>;
})();</pre></div>

<h2>
<a id="build" class="anchor" href="#build" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build</h2>

<p>To build, use <a href="https://github.com/gulpjs/gulp/">gulp</a> and simply run <code>gulp</code> in the project root.</p>

<h2>
<a id="release-history" class="anchor" href="#release-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>Release History</h2>

<ul>
<li>0.1.0: Initial release</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/FbF">FbF</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>